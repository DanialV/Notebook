/**
 * Created by danial on 9/11/16.
 */
module.exports ={
    render_get:function(app,url,check_session){
        app.route('/'+url).get(function(req,res){
            if(check_session){
                res.render(url,{
                    data:{
                        role : (typeof req.session.role == 'undefined')?-1:req.session.role,
                        username : (typeof req.session.role == 'undefined')?'':req.session.username
                    }
                })
            }
           else{
                res.render(url);
            }
        });
    },
    file_get:function(app,url){

        app.route('/'+url).get(require('../routes/'+url).get);
    },
    file_post:function(app,url){
        app.route('/'+url).post(require('../routes/'+url).post);
    },
    error_render:function (res,error_status,error_message) {
          res.render('error',{
              data:{
                  status:error_status,
                  message:error_message
              }
          });
    }
};
